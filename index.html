<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèõÔ∏è Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°„Åô„Åî„Çç„Åè üé≤</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            margin: 0;
            padding: 15px;
            background: linear-gradient(135deg, #FFB6C1 0%, #87CEEB 50%, #98FB98 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1250px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border: 3px solid #FF69B4;
        }
        
        .title {
            text-align: center;
            color: #FF1493;
            font-size: 2.2em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            font-weight: 700;
            background: linear-gradient(45deg, #FF1493, #FF69B4, #FFB6C1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .setup-screen {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #FFF0F5, #F0F8FF);
            border-radius: 15px;
            border: 3px dashed #FF69B4;
        }
        
        .setup-screen h2 {
            color: #FF1493;
            font-size: 1.8em;
            margin-bottom: 20px;
        }
        
        .setup-screen h3 {
            color: #4169E1;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }
        
        .player-setup {
            margin: 20px 0;
        }
        
        .player-input {
            margin: 6px;
            padding: 10px 12px;
            border: 2px solid #FFB6C1;
            border-radius: 12px;
            font-size: 14px;
            background: #FFF0F5;
            transition: all 0.3s;
        }
        
        .player-input:focus {
            border-color: #FF1493;
            outline: none;
            transform: scale(1.02);
        }
        
        .time-setup {
            margin: 20px 0;
        }
        
        .time-input {
            padding: 10px 12px;
            border: 2px solid #87CEEB;
            border-radius: 12px;
            font-size: 16px;
            width: 100px;
            background: #F0F8FF;
            text-align: center;
        }
        
        .start-btn {
            background: linear-gradient(45deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 12px rgba(255, 105, 180, 0.4);
            font-weight: 700;
        }
        
        .start-btn:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 8px 16px rgba(255, 105, 180, 0.6);
        }
        
        .game-screen {
            display: none;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #FFE4E1, #E6E6FA);
            padding: 12px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 2px solid #DDA0DD;
        }
        
        .timer {
            font-size: 20px;
            font-weight: bold;
            color: #DC143C;
            background: white;
            padding: 8px 15px;
            border-radius: 12px;
            border: 2px solid #DC143C;
        }
        
        .current-player {
            font-size: 18px;
            font-weight: bold;
            color: #4169E1;
            background: white;
            padding: 8px 15px;
            border-radius: 12px;
            border: 2px solid #4169E1;
        }
        
        .board-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            height: 450px;
            margin: 15px auto;
            overflow: hidden;
            border: 3px solid #32CD32;
            border-radius: 15px;
            background: #F0FFF0;
        }
        
        .board {
            position: relative;
            width: 900px;
            height: 450px;
            background: linear-gradient(135deg, #E0FFE0 0%, #E6F3FF 50%, #FFF8DC 100%);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .route-line {
            position: absolute;
            background: linear-gradient(45deg, #FF69B4, #87CEEB);
            height: 3px;
            z-index: 1;
            border-radius: 2px;
            opacity: 0.7;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        .square {
            position: absolute;
            width: 45px;
            height: 45px;
            border: 2px solid #FF1493;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 7px;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(135deg, #FFF, #FFE4E1);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            color: #8B0000;
            overflow: hidden;
            z-index: 5;
        }
        
        .square:hover {
            transform: scale(1.2);
            z-index: 10;
            box-shadow: 0 4px 8px rgba(255, 20, 147, 0.4);
        }
        
        .player-piece {
            position: absolute;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid #fff;
            font-size: 10px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            z-index: 20;
        }
        
        .dice-container {
            text-align: center;
            margin: 15px 0;
            background: linear-gradient(135deg, #FFE4E1, #F0F8FF);
            padding: 15px;
            border-radius: 15px;
            border: 2px solid #FF69B4;
        }
        
        .dice {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #FFF, #FFE4E1);
            border: 3px solid #FF1493;
            border-radius: 15px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            animation: bounce 2s infinite;
            box-shadow: 0 4px 8px rgba(255, 20, 147, 0.3);
        }
        
        .dice:hover {
            transform: scale(1.1) rotate(10deg);
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .roll-btn {
            background: linear-gradient(45deg, #32CD32, #228B22);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 20px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(50, 205, 50, 0.4);
            font-weight: 700;
        }
        
        .roll-btn:hover {
            transform: scale(1.05) translateY(-2px);
        }
        
        .quiz-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .quiz-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #FFF0F5, #F0F8FF);
            padding: 20px;
            border-radius: 20px;
            max-width: 550px;
            width: 90%;
            text-align: center;
            border: 3px solid #FF69B4;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            max-height: 85vh;
            overflow-y: auto;
        }
        
        .quiz-content h3 {
            color: #FF1493;
            font-size: 1.4em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .quiz-image {
            width: 150px;
            height: 100px;
            object-fit: cover;
            border-radius: 10px;
            margin: 10px 0;
            border: 2px solid #FFB6C1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .quiz-question {
            font-size: 1em;
            color: #4169E1;
            margin: 10px 0;
            font-weight: 600;
        }
        
        .quiz-options {
            margin: 15px 0;
        }
        
        .quiz-option {
            display: block;
            width: 100%;
            padding: 8px;
            margin: 6px 0;
            background: linear-gradient(135deg, #FFF, #FFE4E1);
            border: 2px solid #FFB6C1;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            font-weight: 600;
            color: #8B0000;
        }
        
        .quiz-option:hover {
            background: linear-gradient(135deg, #FFE4E1, #FFF0F5);
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(255, 182, 193, 0.4);
        }
        
        .quiz-option.correct {
            background: linear-gradient(135deg, #90EE90, #98FB98);
            border-color: #32CD32;
            color: #006400;
        }
        
        .quiz-option.incorrect {
            background: linear-gradient(135deg, #FFB6C1, #FFA0B4);
            border-color: #DC143C;
            color: #8B0000;
        }
        
        .quiz-result {
            background: linear-gradient(135deg, #F0F8FF, #E6E6FA);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
            border: 2px solid #DDA0DD;
        }
        
        .quiz-result h4 {
            font-size: 1.2em;
            margin-bottom: 8px;
        }
        
        .quiz-result p {
            font-size: 0.9em;
            line-height: 1.4;
            margin: 8px 0;
        }
        
        .players-info {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
            flex-wrap: wrap;
            background: linear-gradient(135deg, #E6E6FA, #F0F8FF);
            padding: 10px;
            border-radius: 12px;
            border: 2px solid #DDA0DD;
        }
        
        .player-info {
            background: linear-gradient(135deg, #FFF, #FFE4E1);
            padding: 10px;
            border-radius: 10px;
            margin: 4px;
            min-width: 100px;
            text-align: center;
            border: 2px solid #FFB6C1;
            transition: all 0.3s;
            font-size: 0.9em;
        }
        
        .player-info.current {
            background: linear-gradient(135deg, #FFD700, #FFF8DC);
            border: 2px solid #FF8C00;
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(255, 140, 0, 0.4);
        }
        
        .player-info .player-name {
            font-weight: bold;
            font-size: 1em;
            margin-bottom: 3px;
        }
        
        .player-info .player-score {
            font-size: 0.9em;
            color: #4169E1;
        }
        
        .result-screen {
            display: none;
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #FFF0F5, #F0F8FF);
            border-radius: 15px;
            border: 3px solid #FF69B4;
        }
        
        .winner {
            font-size: 2.5em;
            color: #FF1493;
            margin: 15px 0;
            animation: celebration 2s infinite;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        @keyframes celebration {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-5deg); }
        }
        
        .final-scores {
            background: linear-gradient(135deg, #E6E6FA, #F0F8FF);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            border: 2px solid #DDA0DD;
        }
        
        .final-scores h3 {
            color: #4169E1;
            font-size: 1.5em;
            margin-bottom: 15px;
        }
        
        .score-item {
            margin: 10px 0;
            font-size: 1.1em;
            padding: 8px;
            background: white;
            border-radius: 8px;
            border: 2px solid #FFB6C1;
        }
        
        /* „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÅÆ„Ç´„Çπ„Çø„Éû„Ç§„Ç∫ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #FFE4E1;
            border-radius: 8px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            border-radius: 8px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #FF1493, #DC143C);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">üèõÔ∏è Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°„Åô„Åî„Çç„Åè üé≤</h1>
        
        <!-- „Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóÁîªÈù¢ -->
        <div class="setup-screen" id="setupScreen">
            <h2>üéÆ „Ç≤„Éº„É†Ë®≠ÂÆö üéÆ</h2>
            <div class="player-setup">
                <h3>üë¶üëß „Éó„É¨„Ç§„É§„ÉºÂêç„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà2-6‰∫∫Ôºâ</h3>
                <input type="text" class="player-input" id="player1" placeholder="üåü „Éó„É¨„Ç§„É§„Éº1„ÅÆÂêçÂâç">
                <input type="text" class="player-input" id="player2" placeholder="‚≠ê „Éó„É¨„Ç§„É§„Éº2„ÅÆÂêçÂâç">
                <input type="text" class="player-input" id="player3" placeholder="üåà „Éó„É¨„Ç§„É§„Éº3„ÅÆÂêçÂâçÔºà‰ªªÊÑèÔºâ">
                <input type="text" class="player-input" id="player4" placeholder="üé® „Éó„É¨„Ç§„É§„Éº4„ÅÆÂêçÂâçÔºà‰ªªÊÑèÔºâ">
                <input type="text" class="player-input" id="player5" placeholder="üé™ „Éó„É¨„Ç§„É§„Éº5„ÅÆÂêçÂâçÔºà‰ªªÊÑèÔºâ">
                <input type="text" class="player-input" id="player6" placeholder="üé≠ „Éó„É¨„Ç§„É§„Éº6„ÅÆÂêçÂâçÔºà‰ªªÊÑèÔºâ">
            </div>
            <div class="time-setup">
                <h3>‚è∞ „Ç≤„Éº„É†ÊôÇÈñì„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ</h3>
                <input type="number" class="time-input" id="gameTime" value="5" min="1" max="30"> ÂàÜ
            </div>
            <button class="start-btn" onclick="startGame()">üöÄ „Ç≤„Éº„É†ÈñãÂßãÔºÅ üöÄ</button>
        </div>
        
        <!-- „Ç≤„Éº„É†ÁîªÈù¢ -->
        <div class="game-screen" id="gameScreen">
            <div class="game-info">
                <div class="timer" id="timer">‚è∞ ÊÆã„ÇäÊôÇÈñì: 5:00</div>
                <div class="current-player" id="currentPlayer">üëë „Éó„É¨„Ç§„É§„Éº1„ÅÆ„Çø„Éº„É≥</div>
            </div>
            
            <div class="players-info" id="playersInfo"></div>
            
            <div class="board-container">
                <div class="board" id="gameBoard"></div>
            </div>
            
            <div class="dice-container">
                <div class="dice" id="dice">üé≤</div>
                <br>
                <button class="roll-btn" id="rollBtn" onclick="rollDice()">üé≤ „Çµ„Ç§„Ç≥„É≠„ÇíÊåØ„Çã üé≤</button>
            </div>
        </div>
        
        <!-- „ÇØ„Ç§„Ç∫„É¢„Éº„ÉÄ„É´ -->
        <div class="quiz-modal" id="quizModal">
            <div class="quiz-content">
                <h3 id="quizTitle">üèõÔ∏è ÊñáÂåñË≤°„ÇØ„Ç§„Ç∫ üèõÔ∏è</h3>
                <img id="quizImage" class="quiz-image" src="" alt="ÊñáÂåñË≤°„ÅÆÂÜôÁúü">
                <p id="quizQuestion" class="quiz-question"></p>
                <div class="quiz-options" id="quizOptions"></div>
                <div id="quizResult" class="quiz-result" style="display: none;">
                    <h4 id="resultText"></h4>
                    <p id="explanation"></p>
                    <p id="source"></p>
                    <button class="roll-btn" onclick="closeQuiz()">‚ú® „Å§„Åé„Å∏ ‚ú®</button>
                </div>
            </div>
        </div>
        
        <!-- ÁµêÊûúÁîªÈù¢ -->
        <div class="result-screen" id="resultScreen">
            <div class="winner" id="winner">üéâ ÂÑ™ÂãùËÄÖ üéâ</div>
            <div class="final-scores" id="finalScores"></div>
            <button class="start-btn" onclick="location.reload()">üîÑ „ÇÇ„ÅÜ‰∏ÄÂ∫¶„Éó„É¨„Ç§ üîÑ</button>
        </div>
    </div>

    <script>
        // „Ç≤„Éº„É†Áä∂ÊÖã
        let gameState = {
            players: [],
            currentPlayerIndex: 0,
            timeLeft: 300,
            gameTimer: null,
            isGameRunning: false
        };

        // „Éó„É¨„Ç§„É§„Éº„ÅÆËâ≤Ôºà„Åã„Çè„ÅÑ„ÅÑËâ≤Âêà„ÅÑÔºâ
        const playerColors = ['#FF69B4', '#32CD32', '#4169E1', '#FF8C00', '#9370DB', '#DC143C'];

        // Ë±äÂ≥∂Âå∫„ÅÆÊñáÂåñË≤°„Éá„Éº„ÇøÔºàË±äÂ≥∂Âå∫ÂΩπÊâÄ„Çí„Çµ„É≥„Ç∑„É£„Ç§„É≥„Ç∑„ÉÜ„Ç£„ÅÆÂçó„Å´ÁßªÂãïÔºâ
        const culturalSites = [
            {
                name: "Êöó„Åç„Çá„Å´„Å™„Å£„ÅüÂçÉÂ∑ù‰∏äÊ∞¥„Å®Â∫öÁî≥Â°î",
                position: { x: 50, y: 50 },
                image: "https://natrium.jp/canal_lot/josui/igusa/index.html",
                quiz: {
                    question: "ÂçÉÂ∑ù‰∏äÊ∞¥„ÅØ‰ΩïÂπ¥„Å´ÂÆåÊàê„Åó„Åü„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["1696Âπ¥", "1700Âπ¥", "1722Âπ¥", "1750Âπ¥"],
                    correct: 0,
                    explanation: "ÂçÉÂ∑ù‰∏äÊ∞¥„ÅØÂÖÉÁ¶Ñ9Âπ¥Ôºà1696Âπ¥Ôºâ„Å´ÂÆåÊàê„Åó„ÄÅÊ±üÊà∏Â∏Ç‰∏≠„ÅÆÈ£≤„ÅøÊ∞¥Á¢∫‰øù„ÅÆ„Åü„ÇÅ„Å´ÁéâÂ∑ù‰∏äÊ∞¥„Åã„ÇâÂàÜÊ∞¥„Åï„Çå„ÅüÈáçË¶Å„Å™‰∏äÊ∞¥„Åß„Åó„Åü„ÄÇÂ∫öÁî≥Â°î„ÅØÈÅì„ÅÆÂÆâÂÖ®„ÇíÁ•à„ÇãÁü≥Â°î„Åß„Åô„ÄÇ",
                    source: "ÂçÉÂ∑ù‰∏äÊ∞¥„ÅÆÊ≠¥Âè≤"
                }
            },
            {
                name: "ÈáëÂâõÈô¢„ÅÆÊùøÁ¢ë",
                position: { x: 120, y: 80 },
                image: "https://www.city.toshima.lg.jp/images/41614/kongouinnsanmon.jpg",
                quiz: {
                    question: "ÈáëÂâõÈô¢„ÅØ„Äå‚óã‚óã„ÇÇ„ÇìÂØ∫„Äç„Å®„ÅÑ„ÅÜÊÑõÁß∞„ÅßË¶™„Åó„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ‚óã‚óã„Å´ÂÖ•„ÇãË®ÄËëâ„ÅØÔºü",
                    options: ["Ëµ§„ÇÇ„Çì", "Èªí„ÇÇ„Çì", "ÁôΩ„ÇÇ„Çì", "Èùí„ÇÇ„Çì"],
                    correct: 0,
                    explanation: "ÈáëÂâõÈô¢„ÅØ„ÄåËµ§„ÇÇ„ÇìÂØ∫„Äç„Å®„ÅÑ„ÅÜÊÑõÁß∞„ÅßË¶™„Åó„Åæ„Çå„Å¶„Åä„Çä„ÄÅÊú±Ëâ≤„ÅÆÁæé„Åó„ÅÑÂ±±ÈñÄ„ÅåÂç∞Ë±°ÁöÑ„Åß„Åô„ÄÇÊùøÁ¢ë„ÅØ‰∏≠‰∏ñ„ÅÆÁü≥ÈÄ†‰æõÈ§äÂ°î„Åß„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°"
                }
            },
            {
                name: "Ë±äÂ≥∂Èï∑Â¥é„ÅÆÂØåÂ£´Â°ö",
                position: { x: 190, y: 120 },
                image: "https://www.city.toshima.lg.jp/images/34447/nagaskijinja_01.jpg",
                quiz: {
                    question: "ÂØåÂ£´Â°ö„ÅØ‰Ωï„ÅÆ„Åü„ÇÅ„Å´‰Ωú„Çâ„Çå„Åü„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["ÂØåÂ£´Â±±‰ø°‰ª∞", "Èò≤ÁÅΩ", "Ëæ≤Ê•≠", "‰∫§ÈÄö"],
                    correct: 0,
                    explanation: "ÂØåÂ£´Â°ö„ÅØÂØåÂ£´Â±±‰ø°‰ª∞„ÅÆ‰∏ÄÁí∞„Å®„Åó„Å¶„ÄÅÂØåÂ£´Â±±„Å´Áôª„Çå„Å™„ÅÑ‰∫∫„ÄÖ„ÅÆ„Åü„ÇÅ„Å´‰Ωú„Çâ„Çå„Åü‰∫∫Â∑•„ÅÆÂ±±„Åß„Åô„ÄÇË±äÂ≥∂Âå∫ÂÜÖ„Å´„ÅØË≤¥Èáç„Å™ÂØåÂ£´Â°ö„ÅåÊÆã„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°"
                }
            },
            {
                name: "È¨ºÂ≠êÊØçÁ•ûÂ†Ç",
                position: { x: 480, y: 280 },
                image: "https://www.city.toshima.lg.jp/images/34371/kisiboji_103.jpg",
                quiz: {
                    question: "ÈõëÂè∏„É∂Ë∞∑È¨ºÂ≠êÊØçÁ•ûÂ†Ç„ÅßÊúâÂêç„Å™Ë°å‰∫ã„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["„Åä‰ºöÂºè‰∏áÁÅØÁ∑¥‰æõÈ§ä", "‰∏ÉÂ§ïÁ•≠„Çä", "ÁØÄÂàÜÁ•≠", "Ëä±ÁÅ´Â§ß‰ºö"],
                    correct: 0,
                    explanation: "ÈõëÂè∏„É∂Ë∞∑È¨ºÂ≠êÊØçÁ•ûÂ†Ç„Åß„ÅØ„ÄÅÊØéÂπ¥10Êúà„Å´„Äå„Åä‰ºöÂºè‰∏áÁÅØÁ∑¥‰æõÈ§ä„Äç„ÅåË°å„Çè„Çå„ÄÅË±äÂ≥∂Âå∫„ÅÆÁÑ°ÂΩ¢Ê∞ë‰øóÊñáÂåñË≤°„Å´ÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÂÖ¨Âºè„Çµ„Ç§„Éà"
                }
            },
            {
                name: "Âú∞ËîµËè©Ëñ©Á´ãÂÉè",
                position: { x: 540, y: 320 },
                image: "https://www.city.toshima.lg.jp/images/34368/homyoji01.jpg",
                quiz: {
                    question: "Âú∞ËîµËè©Ëñ©„ÅØ‰∏ª„Å´‰Ωï„ÇíÂÆà„Çã‰ªèÊßò„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Â≠ê„Å©„ÇÇ„Å®ÊóÖ‰∫∫", "ÂïÜÂ£≤", "Â≠¶Âïè", "ÂÅ•Â∫∑"],
                    correct: 0,
                    explanation: "Âú∞ËîµËè©Ëñ©„ÅØÂ≠ê„Å©„ÇÇ„ÇÑÊóÖ‰∫∫„ÇíÂÆà„Çã‰ªèÊßò„Å®„Åó„Å¶Ë¶™„Åó„Åæ„Çå„ÄÅÈÅìÁ´Ø„Åß„Çà„ÅèË¶ã„Åã„Åë„Åæ„Åô„ÄÇ",
                    source: "‰ªèÊïôÊñáÂåñ"
                }
            },
            {
                name: "ËààÁ¶ÖÂØ∫„ÅÆÊ°ú",
                position: { x: 600, y: 200 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Honno-ji_%28Toshima%2C_Tokyo%29.JPG/500px-Honno-ji_%28Toshima%2C_Tokyo%29.JPG",
                quiz: {
                    question: "ËààÁ¶ÖÂØ∫„ÅßÊúâÂêç„Å™Ëä±„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Ê°ú", "Ê¢Ö", "„Å§„Å§„Åò", "Á¥´ÈôΩËä±"],
                    correct: 0,
                    explanation: "ËààÁ¶ÖÂØ∫„ÅØÁæé„Åó„ÅÑÊ°ú„ÅßÊúâÂêç„Åß„ÄÅÊò•„Å´„Å™„Çã„Å®Â§ö„Åè„ÅÆ‰∫∫„ÅåËä±Ë¶ã„Å´Ë®™„Çå„Åæ„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫Ë¶≥ÂÖâ„Ç¨„Ç§„Éâ"
                }
            },
            {
                name: "ÈßíËæº„ÅÆ„Çµ„ÇØ„É©",
                position: { x: 670, y: 150 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Komagome-Station-North-exit.JPG/500px-Komagome-Station-North-exit.JPG",
                quiz: {
                    question: "ÈßíËæºÂë®Ëæ∫„ÅßÊúâÂêç„Å™Ê°ú„ÅÆÂêçÊâÄ„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["ÂÖ≠Áæ©Âúí", "Â∞èÁü≥Â∑ùÂæåÊ•ΩÂúí", "Êñ∞ÂÆøÂæ°Ëãë", "ÁöáÂ±ÖÊù±Âæ°Ëãë"],
                    correct: 0,
                    explanation: "ÈßíËæºÂë®Ëæ∫„Å´„ÅØÂÖ≠Áæ©Âúí„Åå„ÅÇ„Çä„ÄÅÁæé„Åó„ÅÑÊ°ú„ÅßÊúâÂêç„Å™Ê±üÊà∏ÊôÇ‰ª£„ÅÆ‰ª£Ë°®ÁöÑ„Å™Â§ßÂêçÂ∫≠Âúí„Åß„Åô„ÄÇ",
                    source: "Êù±‰∫¨ÈÉΩÂÖ¨ÂúíÂçî‰ºö"
                }
            },
            {
                name: "„Éà„Ç≠„ÉØËçò",
                position: { x: 120, y: 160 },
                image: "https://www.city.toshima.lg.jp/images/34399/toshimakuritsutokiwasoumangamyuujiamu01.jpg",
                quiz: {
                    question: "„Éà„Ç≠„ÉØËçò„ÅßÊ¥ªÂãï„Åó„Å¶„ÅÑ„ÅüÊúâÂêç„Å™Êº´ÁîªÂÆ∂„ÅØË™∞„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["ÊâãÂ°öÊ≤ªËô´", "Ëó§Â≠ê‰∏ç‰∫åÈõÑ", "Áü≥„ÉéÊ£ÆÁ´†Â§™ÈÉé", "ÂÖ®Âì°"],
                    correct: 3,
                    explanation: "„Éà„Ç≠„ÉØËçò„Å´„ÅØÊâãÂ°öÊ≤ªËô´„ÄÅËó§Â≠ê‰∏ç‰∫åÈõÑ„ÄÅÁü≥„ÉéÊ£ÆÁ´†Â§™ÈÉé„Å™„Å©Â§ö„Åè„ÅÆÊúâÂêçÊº´ÁîªÂÆ∂„Åå‰Ωè„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ",
                    source: "„Éà„Ç≠„ÉØËçò„Éû„É≥„Ç¨„Éü„É•„Éº„Ç∏„Ç¢„É†"
                }
            },
            {
                name: "Ëá™Áî±Â≠¶ÂúíÊòéÊó•È§®",
                position: { x: 240, y: 260 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Mejiro-Station-Building.jpg/500px-Mejiro-Station-Building.jpg",
                quiz: {
                    question: "Ëá™Áî±Â≠¶ÂúíÊòéÊó•È§®„ÇíË®≠Ë®à„Åó„ÅüÂª∫ÁØâÂÆ∂„ÅØË™∞„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["„Éï„É©„É≥„ÇØ„Éª„É≠„Ç§„Éâ„Éª„É©„Ç§„Éà", "„Ç¢„É≥„Éà„Éã„Ç™„Éª„Ç¨„Ç¶„Éá„Ç£", "„É´„Éª„Ç≥„É´„Éì„É•„Ç∏„Ç®", "ÂÆâËó§Âø†ÈõÑ"],
                    correct: 0,
                    explanation: "Ëá™Áî±Â≠¶ÂúíÊòéÊó•È§®„ÅØ‰∏ñÁïåÁöÑÂª∫ÁØâÂÆ∂„Éï„É©„É≥„ÇØ„Éª„É≠„Ç§„Éâ„Éª„É©„Ç§„Éà„ÅåË®≠Ë®à„Åó„ÅüË≤¥Èáç„Å™Âª∫ÁØâÁâ©„Åß„Åô„ÄÇÈáçË¶ÅÊñáÂåñË≤°„Å´ÊåáÂÆö„Åï„Çå„Å¶„Åä„Çä„ÄÅËøë‰ª£Âª∫ÁØâ„ÅÆÂÇë‰Ωú„Å®„Åó„Å¶Áü•„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "Ëá™Áî±Â≠¶ÂúíÊòéÊó•È§®"
                }
            },
            {
                name: "Âæ°Â∂ΩÁ•ûÁ§æ",
                position: { x: 820, y: 250 },
                image: "https://www.city.toshima.lg.jp/images/34447/nagaskijinja_01.jpg",
                quiz: {
                    question: "Âæ°Â∂ΩÁ•ûÁ§æ„ÅØ‰∏ª„Å´‰Ωï„ÅÆÁ•ûÊßò„ÇíÁ•Ä„Å£„Å¶„ÅÑ„Çã„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Â±±„ÅÆÁ•û", "Êµ∑„ÅÆÁ•û", "È¢®„ÅÆÁ•û", "ÁÅ´„ÅÆÁ•û"],
                    correct: 0,
                    explanation: "Âæ°Â∂ΩÁ•ûÁ§æ„ÅØÂ±±„ÅÆÁ•û„ÇíÁ•Ä„ÇãÁ•ûÁ§æ„Åß„ÄÅÂè§„Åè„Åã„ÇâÂ±±Â≤≥‰ø°‰ª∞„ÅÆ‰∏≠ÂøÉÂú∞„Å®„Åó„Å¶Ë¶™„Åó„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "Á•ûÁ§æÂ∫Å"
                }
            },
            {
                name: "Ë•øÂéü‰∏çÂãïÂ∞ä",
                position: { x: 50, y: 350 },
                image: "https://www.city.toshima.lg.jp/images/34368/homyoji01.jpg",
                quiz: {
                    question: "Ë•øÂéü‰∏çÂãïÂ∞ä„ÅÆ‰∏çÂãïÊòéÁéã„ÅØ‰Ωï„ÇíË°®„Åô‰ªèÊßò„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["ÁÖ©ÊÇ©„ÇíÊñ≠„Å§Âäõ", "Êô∫ÊÖß", "ÊÖàÊÇ≤", "Âπ≥Âíå"],
                    correct: 0,
                    explanation: "Ë•øÂéü‰∏çÂãïÂ∞ä„ÅÆ‰∏çÂãïÊòéÁéã„ÅØÁÖ©ÊÇ©„ÇíÊñ≠„Å°Âàá„ÇãÂº∑„ÅÑÂäõ„ÇíË°®„Åô‰ªèÊßò„Åß„ÄÅÂéÑÈô§„Åë„ÇÑÈ≠îÈô§„Åë„ÅÆ‰ø°‰ª∞„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÂú∞Âüü„ÅÆ‰∫∫„ÄÖ„Å´Ë¶™„Åó„Åæ„Çå„Å¶„ÅÑ„ÇãÈúäÂ†¥„Åß„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°"
                }
            },
            {
                name: "Êù±‰∫¨Ëä∏Ë°ìÂäáÂ†¥",
                position: { x: 240, y: 200 },
                image: "https://geigeki.jp/about/images/appearance.jpg",
                quiz: {
                    question: "Êù±‰∫¨Ëä∏Ë°ìÂäáÂ†¥„ÅÆÁâπÂæ¥ÁöÑ„Å™Âª∫ÁØâ„Éá„Ç∂„Ç§„É≥„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["ÂÜÜÂΩ¢„ÅÆ„Ç≥„É≥„Çµ„Éº„Éà„Éõ„Éº„É´", "‰∏âËßíÂΩ¢„ÅÆÂ±ãÊ†π", "ÂõõËßí„ÅÑÂª∫Áâ©", "Ëàπ„ÅÆÂΩ¢"],
                    correct: 0,
                    explanation: "Êù±‰∫¨Ëä∏Ë°ìÂäáÂ†¥„ÅØÂÜÜÂΩ¢„ÅÆ„Ç≥„É≥„Çµ„Éº„Éà„Éõ„Éº„É´„ÅåÁâπÂæ¥ÁöÑ„Åß„ÄÅÂÑ™„Çå„ÅüÈü≥ÈüøÂäπÊûú„ÇíÊåÅ„Å§Áæé„Åó„ÅÑÂª∫ÁØâ„Åß„Åô„ÄÇ",
                    source: "Êù±‰∫¨Ëä∏Ë°ìÂäáÂ†¥ÂÖ¨Âºè„Çµ„Ç§„Éà"
                }
            },
            {
                name: "Á´ãÊïôÂ§ßÂ≠¶",
                position: { x: 180, y: 220 },
                image: "https://www.rikkyo.ac.jp/about/activities/social_engagement/mknpps000001rsx1-img/mknpps000001rsz4.jpg",
                quiz: {
                    question: "Á´ãÊïôÂ§ßÂ≠¶„ÅÆË±°Âæ¥ÁöÑ„Å™Âª∫Áâ©„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Ëµ§„É¨„É≥„Ç¨„ÅÆÊ†°Ëàé", "ÁôΩ„ÅÑÊ†°Ëàé", "„Ç¨„É©„Çπ„ÅÆÊ†°Ëàé", "Êú®ÈÄ†„ÅÆÊ†°Ëàé"],
                    correct: 0,
                    explanation: "Á´ãÊïôÂ§ßÂ≠¶„ÅØÁæé„Åó„ÅÑËµ§„É¨„É≥„Ç¨„ÅÆÊ†°Ëàé„ÅßÊúâÂêç„Åß„Åô„ÄÇÊ≠¥Âè≤„ÅÇ„ÇãÂª∫Áâ©„ÅØÂ§ö„Åè„ÅÆ‰∫∫„Å´ÊÑõ„Åï„ÇåÁ∂ö„Åë„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "Á´ãÊïôÂ§ßÂ≠¶ÂÖ¨Âºè„Çµ„Ç§„Éà"
                }
            },
            {
                name: "„Çµ„É≥„Ç∑„É£„Ç§„É≥„Ç∑„ÉÜ„Ç£",
                position: { x: 350, y: 220 },
                image: "https://ja.wikipedia.org/wiki/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB:Sunshine_City_2012.JPG",
                quiz: {
                    question: "„Çµ„É≥„Ç∑„É£„Ç§„É≥„Ç∑„ÉÜ„Ç£„ÅÆ‰∏≠„Å´„ÅÇ„ÇãÊ∞¥ÊóèÈ§®„ÅÆÂêçÂâç„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["„Çµ„É≥„Ç∑„É£„Ç§„É≥Ê∞¥ÊóèÈ§®", "Ê±†Ë¢ãÊ∞¥ÊóèÈ§®", "Ë±äÂ≥∂Ê∞¥ÊóèÈ§®", "Êù±‰∫¨Ê∞¥ÊóèÈ§®"],
                    correct: 0,
                    explanation: "„Çµ„É≥„Ç∑„É£„Ç§„É≥„Ç∑„ÉÜ„Ç£„ÅÆÂ±ã‰∏ä„Å´„ÅÇ„Çã„Çµ„É≥„Ç∑„É£„Ç§„É≥Ê∞¥ÊóèÈ§®„ÅØ„ÄåÂ§©Á©∫„ÅÆ„Ç™„Ç¢„Ç∑„Çπ„Äç„Å®„Åó„Å¶Ë¶™„Åó„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "„Çµ„É≥„Ç∑„É£„Ç§„É≥„Ç∑„ÉÜ„Ç£ÂÖ¨Âºè„Çµ„Ç§„Éà"
                }
            },
            {
                name: "Ë±äÂ≥∂Âå∫ÂΩπÊâÄ",
                position: { x: 350, y: 280 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/2024_Toshima_Ecomusee_Town.jpg/500px-2024_Toshima_Ecomusee_Town.jpg",
                quiz: {
                    question: "Ë±äÂ≥∂Âå∫ÂΩπÊâÄ„ÅÆÊñ∞Â∫ÅËàé„ÅØ‰ΩïÂπ¥„Å´ÂÆåÊàê„Åó„Åü„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["2015Âπ¥", "2016Âπ¥", "2017Âπ¥", "2018Âπ¥"],
                    correct: 0,
                    explanation: "Ë±äÂ≥∂Âå∫ÂΩπÊâÄ„ÅÆÊñ∞Â∫ÅËàé„ÅØ2015Âπ¥„Å´ÂÆåÊàê„Åó„ÄÅÁí∞Â¢É„Å´ÈÖçÊÖÆ„Åó„Åü„Ç®„Ç≥„Éü„É•„Éº„Çº„Çø„Ç¶„É≥„Å®„Åó„Å¶Ê≥®ÁõÆ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÂÖ¨Âºè„Çµ„Ç§„Éà"
                }
            },
            {
                name: "Ê±†Ë¢ãÈßÖ",
                position: { x: 300, y: 200 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/East_entrance_of_Ikebukuro_Station_2023-11-09.jpg/500px-East_entrance_of_Ikebukuro_Station_2023-11-09.jpg",
                quiz: {
                    question: "Ê±†Ë¢ãÈßÖ„ÅØ1Êó•„ÅÆ‰πóÈôçÂÆ¢Êï∞„Åå‰∏ñÁïå„Åß‰Ωï‰Ωç„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["1‰Ωç", "2‰Ωç", "3‰Ωç", "4‰Ωç"],
                    correct: 1,
                    explanation: "Ê±†Ë¢ãÈßÖ„ÅØ1Êó•„ÅÆ‰πóÈôçÂÆ¢Êï∞„Åå‰∏ñÁïåÁ¨¨2‰Ωç„ÅÆÂ∑®Â§ß„Çø„Éº„Éü„Éä„É´ÈßÖ„Åß„Åô„ÄÇ",
                    source: "JRÊù±Êó•Êú¨"
                }
            },
            {
                name: "Â§ßÂ°öÈßÖ",
                position: { x: 380, y: 120 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Otsuka_Station_North.jpg/500px-Otsuka_Station_North.jpg",
                quiz: {
                    question: "Â§ßÂ°öÈßÖÂë®Ëæ∫„ÅßÊúâÂêç„Å™È£ü„ÅπÁâ©„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["„Å°„ÇÉ„Çì„ÅìÈçã", "„É©„Éº„É°„É≥", "„ÅÜ„Å©„Çì", "„Åù„Å∞"],
                    correct: 0,
                    explanation: "Â§ßÂ°öÈßÖÂë®Ëæ∫„ÅØ„Å°„ÇÉ„Çì„ÅìÈçã„ÅßÊúâÂêç„Åß„ÄÅÂ§ö„Åè„ÅÆ„Å°„ÇÉ„Çì„ÅìÈçãÂ∫ó„ÅåËªí„ÇíÈÄ£„Å≠„Å¶„ÅÑ„Åæ„Åô„ÄÇÁõ∏Êí≤ÈÉ®Â±ã„ÇÇÂ§ö„ÅÑÂú∞Âüü„Åß„Åô„ÄÇ",
                    source: "Â§ßÂ°öË¶≥ÂÖâÂçî‰ºö"
                }
            },
            {
                name: "Â∑£È¥®ÈßÖ",
                position: { x: 450, y: 100 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Sugamo-Sta-Building.JPG/500px-Sugamo-Sta-Building.JPG",
                quiz: {
                    question: "Â∑£È¥®„ÅØ„Äå„Åä„Å∞„ÅÇ„Å°„ÇÉ„Çì„ÅÆ‚óã‚óã„Äç„Å®Âëº„Å∞„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ‚óã‚óã„Å´ÂÖ•„ÇãË®ÄËëâ„ÅØÔºü",
                    options: ["ÂéüÂÆø", "Ê∏ãË∞∑", "Êñ∞ÂÆø", "ÈäÄÂ∫ß"],
                    correct: 0,
                    explanation: "Â∑£È¥®„ÅØ„Äå„Åä„Å∞„ÅÇ„Å°„ÇÉ„Çì„ÅÆÂéüÂÆø„Äç„Å®„Åó„Å¶Ë¶™„Åó„Åæ„Çå„ÄÅ„Å®„Åí„Å¨„ÅçÂú∞Ëîµ„ÅßÊúâÂêç„Å™È´òÂ≤©ÂØ∫„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",
                    source: "Â∑£È¥®Âú∞ËîµÈÄö„ÇäÂïÜÂ∫óË°ó"
                }
            },
            {
                name: "Ê≥ïÊòéÂØ∫",
                position: { x: 500, y: 180 },
                image: "https://www.city.toshima.lg.jp/images/34368/homyoji01.jpg",
                quiz: {
                    question: "Ê≥ïÊòéÂØ∫„ÅÆ‰∏âÈáçÂ°î„ÅØ‰ΩïÊôÇ‰ª£„Å´Âª∫„Å¶„Çâ„Çå„Åü„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Ê±üÊà∏ÊôÇ‰ª£", "ÊòéÊ≤ªÊôÇ‰ª£", "Â§ßÊ≠£ÊôÇ‰ª£", "Êò≠ÂíåÊôÇ‰ª£"],
                    correct: 0,
                    explanation: "Ê≥ïÊòéÂØ∫„ÅÆ‰∏âÈáçÂ°î„ÅØÊ±üÊà∏ÊôÇ‰ª£„Å´Âª∫„Å¶„Çâ„Çå„ÅüË≤¥Èáç„Å™Âª∫ÈÄ†Áâ©„Åß„Åô„ÄÇÈ´ò„ÅïÁ¥Ñ33„É°„Éº„Éà„É´„ÅÆÁæé„Åó„ÅÑÂ°î„ÅØ„ÄÅË±äÂ≥∂Âå∫„ÅÆ„Ç∑„É≥„Éú„É´„ÅÆ‰∏Ä„Å§„Åß„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°„Éû„ÉÉ„Éó"
                }
            },
            {
                name: "ÁõÆÁôΩÂ∫≠Âúí",
                position: { x: 680, y: 240 },
                image: "https://www.city.toshima.lg.jp/images/34377/mejiroteien_01.jpg",
                quiz: {
                    question: "ÁõÆÁôΩÂ∫≠Âúí„ÅØ„Å©„ÅÆ„Çà„ÅÜ„Å™ÊßòÂºè„ÅÆÂ∫≠Âúí„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Êó•Êú¨Â∫≠Âúí", "Ê¥ãÈ¢®Â∫≠Âúí", "‰∏≠ÂõΩÂ∫≠Âúí", "„Ç§„Çø„É™„Ç¢Â∫≠Âúí"],
                    correct: 0,
                    explanation: "ÁõÆÁôΩÂ∫≠Âúí„ÅØÁæé„Åó„ÅÑÊó•Êú¨Â∫≠Âúí„Åß„ÄÅÂõõÂ≠£Êäò„ÄÖ„ÅÆËá™ÁÑ∂„ÇíÊ•Ω„Åó„ÇÄ„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇÊ±†„Çí‰∏≠ÂøÉ„Å®„Åó„ÅüÂõûÈÅäÂºèÂ∫≠Âúí„Åß„ÄÅÈÉΩÂøÉ„ÅÆ„Ç™„Ç¢„Ç∑„Çπ„Åß„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÂÖ¨Âºè„Çµ„Ç§„Éà"
                }
            },
            {
                name: "Ë±äÂ≥∂Âå∫Á´ãÈÉ∑ÂúüË≥áÊñôÈ§®",
                position: { x: 400, y: 220 },
                image: "https://www.city.toshima.lg.jp/images/23995/1.jpg",
                quiz: {
                    question: "Ë±äÂ≥∂Âå∫Á´ãÈÉ∑ÂúüË≥áÊñôÈ§®„ÅÆ„Éû„Çπ„Ç≥„ÉÉ„Éà„Ç≠„É£„É©„ÇØ„Çø„Éº„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["„ÇÄ„Åò„Å™„Åè„Çì", "„Åü„Å¨„Åç„Åè„Çì", "„Åç„Å§„Å≠„Åè„Çì", "„ÅÜ„Åï„Åé„Åè„Çì"],
                    correct: 0,
                    explanation: "Ë±äÂ≥∂Âå∫Á´ãÈÉ∑ÂúüË≥áÊñôÈ§®„ÅÆ„Éû„Çπ„Ç≥„ÉÉ„Éà„ÅØ„Äå„ÇÄ„Åò„Å™„Åè„Çì„Äç„Åß„ÄÅÈï∑Â¥éÂú∞Âüü„Å´‰ºù„Çè„Çã„ÅäË©±„Å´Áî±Êù•„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Å®„Å£„Å¶„ÇÇ„Åã„Çè„ÅÑ„ÅÑ„Ç≠„É£„É©„ÇØ„Çø„Éº„Åß„ÅôÔºÅ",
                    source: "Ë±äÂ≥∂Âå∫Á´ãÈÉ∑ÂúüË≥áÊñôÈ§®"
                }
            },
            {
                name: "Èï∑Â¥éÁ•ûÁ§æ",
                position: { x: 100, y: 240 },
                image: "https://www.city.toshima.lg.jp/images/34447/nagaskijinja_01.jpg",
                quiz: {
                    question: "Èï∑Â¥éÁ•ûÁ§æ„Å´‰ºù„Çè„ÇãË±äÂ≥∂Âå∫ÂîØ‰∏Ä„ÅÆ‰ºùÁµ±Ëä∏ËÉΩ„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Èï∑Â¥éÁçÖÂ≠êËàû", "Èï∑Â¥éÂ§™Èºì", "Èï∑Â¥éË∏ä„Çä", "Èï∑Â¥éÂõÉÂ≠ê"],
                    correct: 0,
                    explanation: "Èï∑Â¥éÁ•ûÁ§æ„Å´„ÅØÂÖÉÁ¶ÑÂπ¥Èñì„Å´Áî±Êù•„Åô„ÇãÈï∑Â¥éÁçÖÂ≠êËàû„Åå‰ºù„Çè„Çä„ÄÅË±äÂ≥∂Âå∫„ÅÆÊúâÂΩ¢„ÉªÁÑ°ÂΩ¢ÊñáÂåñË≤°„Å´ÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÊØéÂπ¥ÁßãÁ•≠„Çä„ÅßÊä´Èú≤„Åï„Çå„Åæ„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°"
                }
            },
            {
                name: "ÁõÆÁôΩÈßÖ",
                position: { x: 700, y: 340 },
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Mejiro-Station-Building.jpg/500px-Mejiro-Station-Building.jpg",
                quiz: {
                    question: "ÁõÆÁôΩÈßÖÂë®Ëæ∫„ÅßÊúâÂêç„Å™ÊïôËÇ≤Ê©üÈñ¢„ÅØ‰Ωï„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Â≠¶ÁøíÈô¢Â§ßÂ≠¶", "Êó©Á®≤Áî∞Â§ßÂ≠¶", "ÊÖ∂ÊáâÁæ©Â°æÂ§ßÂ≠¶", "‰∏äÊô∫Â§ßÂ≠¶"],
                    correct: 0,
                    explanation: "ÁõÆÁôΩÈßÖÂë®Ëæ∫„Å´„ÅØÂ≠¶ÁøíÈô¢Â§ßÂ≠¶„Åå„ÅÇ„Çä„ÄÅÁöáÊóè„ÇÇÈÄö„ÅÜÁî±Á∑í„ÅÇ„ÇãÂ§ßÂ≠¶„Å®„Åó„Å¶Áü•„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÁæé„Åó„ÅÑ„Ç≠„É£„É≥„Éë„Çπ„ÅßÊúâÂêç„Åß„Åô„ÄÇ",
                    source: "Â≠¶ÁøíÈô¢Â§ßÂ≠¶"
                }
            },
            {
                name: "Ê±†Ë¢ãÊù±Ë≤ùÂ°ö",
                position: { x: 450, y: 200 },
                image: "https://www.city.toshima.lg.jp/images/23709/kaidukazentaishukushou.jpg",
                quiz: {
                    question: "Ê±†Ë¢ãÊù±Ë≤ùÂ°ö„ÅØ‰∏ª„Å´‰ΩïÊôÇ‰ª£„ÅÆÈÅ∫Ë∑°„Åß„Åó„Çá„ÅÜ„ÅãÔºü",
                    options: ["Á∏ÑÊñáÊôÇ‰ª£", "Âº•ÁîüÊôÇ‰ª£", "Âè§Â¢≥ÊôÇ‰ª£", "Âπ≥ÂÆâÊôÇ‰ª£"],
                    correct: 0,
                    explanation: "Ê±†Ë¢ãÊù±Ë≤ùÂ°ö„ÅØÁ∏ÑÊñáÊôÇ‰ª£„Çí‰∏≠ÂøÉ„Å®„Åó„ÅüË≤ùÂ°ö„Åß„ÄÅÂΩìÊôÇ„ÅÆ‰∫∫„ÄÖ„ÅÆÁîüÊ¥ª„ÇíÁü•„ÇãÈáçË¶Å„Å™ÈÅ∫Ë∑°„Åß„Åô„ÄÇ„Éè„Éû„Ç∞„É™„ÇÑ„Éè„Ç§„Ç¨„Ç§„Å™„Å©„ÅÆË≤ù„ÄÅÁç£È™®„ÇÑÈ≠öÈ™®„Å®„Å®„ÇÇ„Å´„ÄÅÁ∏ÑÊñáÊôÇ‰ª£ÂæåÊúü„ÅÆÂúüÂô®„ÇÑÁü≥Âô®„ÅåÂ§öÊï∞Âá∫Âúü„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                    source: "Ë±äÂ≥∂Âå∫ÊñáÂåñË≤°"
                }
            }
        ];

        // ÈÅ∏ÊäûËÇ¢„Çí„Ç∑„É£„ÉÉ„Éï„É´„Åô„ÇãÈñ¢Êï∞
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startGame() {
            // „Éó„É¨„Ç§„É§„ÉºÂêç„ÅÆÂèñÂæó
            const playerInputs = document.querySelectorAll('.player-input');
            gameState.players = [];
            
            playerInputs.forEach((input, index) => {
                if (input.value.trim()) {
                    gameState.players.push({
                        name: input.value.trim(),
                        position: 0,
                        score: 0,
                        color: playerColors[index]
                    });
                }
            });

            if (gameState.players.length < 2) {
                alert('üö® ÊúÄ‰Ωé2‰∫∫„ÅÆ„Éó„É¨„Ç§„É§„Éº„ÅåÂøÖË¶Å„Åß„ÅôÔºÅ');
                return;
            }

            // „Ç≤„Éº„É†ÊôÇÈñì„ÅÆË®≠ÂÆö
            const gameTime = parseInt(document.getElementById('gameTime').value);
            gameState.timeLeft = gameTime * 60;

            // ÁîªÈù¢Âàá„ÇäÊõø„Åà
            document.getElementById('setupScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';

            // „Ç≤„Éº„É†ÂàùÊúüÂåñ
            initializeGame();
        }

        function initializeGame() {
            createBoard();
            createPlayerPieces();
            updatePlayersInfo();
            startTimer();
            gameState.isGameRunning = true;
        }

        function createBoard() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = '';

            // „É´„Éº„ÉàÁ∑ö„ÇíÊèèÁîª
            createRouteLines(board);

            // „Éû„Çπ„ÇíÊèèÁîª
            culturalSites.forEach((site, index) => {
                const square = document.createElement('div');
                square.className = 'square';
                square.style.left = site.position.x + 'px';
                square.style.top = site.position.y + 'px';
                square.textContent = site.name;
                square.id = `square-${index}`;
                square.title = site.name;
                board.appendChild(square);
            });
        }

        function createRouteLines(board) {
            for (let i = 0; i < culturalSites.length; i++) {
                const currentSite = culturalSites[i];
                const nextSite = culturalSites[(i + 1) % culturalSites.length];
                
                // 2ÁÇπÈñì„ÅÆË∑ùÈõ¢„Å®ËßíÂ∫¶„ÇíË®àÁÆó
                const dx = nextSite.position.x - currentSite.position.x;
                const dy = nextSite.position.y - currentSite.position.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                
                // Á∑ö„Çí‰ΩúÊàê
                const line = document.createElement('div');
                line.className = 'route-line';
                line.style.width = distance + 'px';
                line.style.left = (currentSite.position.x + 22.5) + 'px'; // „Éû„Çπ„ÅÆ‰∏≠ÂøÉ„Åã„Çâ
                line.style.top = (currentSite.position.y + 22.5) + 'px';
                line.style.transform = `rotate(${angle}deg)`;
                line.style.transformOrigin = '0 50%';
                
                board.appendChild(line);
            }
        }

        function createPlayerPieces() {
            const board = document.getElementById('gameBoard');
            
            gameState.players.forEach((player, index) => {
                const piece = document.createElement('div');
                piece.className = 'player-piece';
                piece.style.backgroundColor = player.color;
                piece.textContent = (index + 1).toString();
                piece.id = `player-${index}`;
                piece.title = player.name;
                
                // ÊúÄÂàù„ÅÆ„Éû„Çπ„Å´ÈÖçÁΩÆÔºàÈáç„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´Ë™øÊï¥Ôºâ
                const firstSquare = culturalSites[0];
                piece.style.left = (firstSquare.position.x + 10 + (index * 6)) + 'px';
                piece.style.top = (firstSquare.position.y + 10 + (index * 3)) + 'px';
                
                board.appendChild(piece);
            });
        }

        function updatePlayersInfo() {
            const playersInfo = document.getElementById('playersInfo');
            playersInfo.innerHTML = '';

            gameState.players.forEach((player, index) => {
                const playerDiv = document.createElement('div');
                playerDiv.className = 'player-info';
                if (index === gameState.currentPlayerIndex) {
                    playerDiv.classList.add('current');
                }
                playerDiv.innerHTML = `
                    <div class="player-name" style="color: ${player.color};">
                        ${index === gameState.currentPlayerIndex ? 'üëë ' : ''}${player.name}
                    </div>
                    <div class="player-score">üèÜ ${player.score}ÁÇπ</div>
                `;
                playersInfo.appendChild(playerDiv);
            });

            document.getElementById('currentPlayer').innerHTML = 
                `üëë ${gameState.players[gameState.currentPlayerIndex].name}„ÅÆ„Çø„Éº„É≥`;
        }

        function startTimer() {
            gameState.gameTimer = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();
                
                if (gameState.timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.timeLeft / 60);
            const seconds = gameState.timeLeft % 60;
            document.getElementById('timer').innerHTML = 
                `‚è∞ ÊÆã„ÇäÊôÇÈñì: ${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function rollDice() {
            if (!gameState.isGameRunning) return;

            const dice = document.getElementById('dice');
            const rollBtn = document.getElementById('rollBtn');
            
            rollBtn.disabled = true;
            rollBtn.textContent = 'üé≤ ÊåØ„Å£„Å¶„ÅÑ„Åæ„Åô... üé≤';
            
            // „Çµ„Ç§„Ç≥„É≠„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
            let rollCount = 0;
            const rollAnimation = setInterval(() => {
                dice.textContent = Math.floor(Math.random() * 6) + 1;
                rollCount++;
                
                if (rollCount > 15) {
                    clearInterval(rollAnimation);
                    const finalRoll = Math.floor(Math.random() * 6) + 1;
                    dice.textContent = finalRoll;
                    movePlayer(finalRoll);
                }
            }, 100);
        }

        function movePlayer(steps) {
            const currentPlayer = gameState.players[gameState.currentPlayerIndex];
            const newPosition = (currentPlayer.position + steps) % culturalSites.length;
            currentPlayer.position = newPosition;

            // „Éó„É¨„Ç§„É§„Éº„Éî„Éº„Çπ„ÅÆÁßªÂãï„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Ôºà„ÇÜ„Å£„Åè„Çä„Å´Â§âÊõ¥Ôºâ
            const piece = document.getElementById(`player-${gameState.currentPlayerIndex}`);
            const targetSquare = culturalSites[newPosition];
            
            piece.style.left = (targetSquare.position.x + 10 + (gameState.currentPlayerIndex * 6)) + 'px';
            piece.style.top = (targetSquare.position.y + 10 + (gameState.currentPlayerIndex * 3)) + 'px';

            // „ÇØ„Ç§„Ç∫Ë°®Á§∫Ôºà„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÊôÇÈñì„Å´Âêà„Çè„Åõ„Å¶Ë™øÊï¥Ôºâ
            setTimeout(() => {
                showQuiz(newPosition);
            }, 1200);
        }

        function showQuiz(siteIndex) {
            const site = culturalSites[siteIndex];
            const modal = document.getElementById('quizModal');
            
            document.getElementById('quizTitle').innerHTML = `üèõÔ∏è ${site.name} üèõÔ∏è`;
            
            const quizImage = document.getElementById('quizImage');
            quizImage.src = site.image;
            quizImage.alt = site.name + '„ÅÆÂÜôÁúü';
            quizImage.onerror = function() {
                this.style.display = 'none';
            };
            
            document.getElementById('quizQuestion').textContent = site.quiz.question;
            
            // ÈÅ∏ÊäûËÇ¢„Çí„Ç∑„É£„ÉÉ„Éï„É´
            const optionsWithIndex = site.quiz.options.map((option, index) => ({
                text: option,
                originalIndex: index,
                isCorrect: index === site.quiz.correct
            }));
            
            const shuffledOptions = shuffleArray(optionsWithIndex);
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            shuffledOptions.forEach((option, displayIndex) => {
                const button = document.createElement('button');
                button.className = 'quiz-option';
                button.textContent = `${displayIndex + 1}. ${option.text}`;
                button.onclick = () => answerQuiz(option.isCorrect, site.quiz, button);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('quizResult').style.display = 'none';
            modal.style.display = 'block';
        }

        function answerQuiz(isCorrect, quiz, selectedButton) {
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach((option) => {
                option.onclick = null;
                const optionText = option.textContent.substring(3); // "1. " „ÇíÈô§Âéª
                const isCorrectOption = optionText === quiz.options[quiz.correct];
                
                if (isCorrectOption) {
                    option.classList.add('correct');
                } else if (option === selectedButton && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            if (isCorrect) {
                gameState.players[gameState.currentPlayerIndex].score += 10;
                document.getElementById('resultText').innerHTML = 'üéâ „Åõ„ÅÑ„Åã„ÅÑÔºÅ +10„Éù„Ç§„É≥„Éà üéâ';
                document.getElementById('resultText').style.color = '#32CD32';
            } else {
                document.getElementById('resultText').innerHTML = '‚ùå „Åñ„Çì„Å≠„ÇìÔºÅ„Åß„ÇÇ „Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂ ‚ùå';
                document.getElementById('resultText').style.color = '#DC143C';
            }
            
            document.getElementById('explanation').textContent = quiz.explanation;
            document.getElementById('source').innerHTML = `üìö Âá∫ÂÖ∏: ${quiz.source}`;
            document.getElementById('quizResult').style.display = 'block';
        }

        function closeQuiz() {
            document.getElementById('quizModal').style.display = 'none';
            
            // Ê¨°„ÅÆ„Éó„É¨„Ç§„É§„Éº„ÅÆ„Çø„Éº„É≥
            gameState.currentPlayerIndex = (gameState.currentPlayerIndex + 1) % gameState.players.length;
            updatePlayersInfo();
            
            const rollBtn = document.getElementById('rollBtn');
            rollBtn.disabled = false;
            rollBtn.textContent = 'üé≤ „Çµ„Ç§„Ç≥„É≠„ÇíÊåØ„Çã üé≤';
        }

        function endGame() {
            clearInterval(gameState.gameTimer);
            gameState.isGameRunning = false;
            
            // ÊúÄÈ´òÂæóÁÇπËÄÖ„ÇíÊ±∫ÂÆö
            const winner = gameState.players.reduce((prev, current) => 
                prev.score > current.score ? prev : current
            );
            
            // ÁµêÊûúÁîªÈù¢Ë°®Á§∫
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            document.getElementById('winner').innerHTML = `üéâ ${winner.name} „ÅÆ„Åã„Å°ÔºÅ üéâ`;
            
            const finalScores = document.getElementById('finalScores');
            finalScores.innerHTML = '<h3>üèÜ „Åï„ÅÑ„Åó„ÇÖ„ÅÜ„Åë„Å£„Åã üèÜ</h3>';
            
            // „Çπ„Ç≥„Ç¢È†Ü„Å´„ÇΩ„Éº„Éà
            const sortedPlayers = [...gameState.players].sort((a, b) => b.score - a.score);
            
            sortedPlayers.forEach((player, index) => {
                const scoreDiv = document.createElement('div');
                scoreDiv.className = 'score-item';
                const medals = ['ü•á', 'ü•à', 'ü•â', 'üèÖ', 'üèÖ', 'üèÖ'];
                scoreDiv.innerHTML = `
                    <span style="color: ${player.color}; font-weight: bold;">
                        ${medals[index]} ${index + 1}„ÅÑ: ${player.name} - ${player.score}„Å¶„Çì
                    </span>
                `;
                finalScores.appendChild(scoreDiv);
            });
        }

        // „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
        window.addEventListener('error', function(e) {
            console.error('„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü:', e.error);
        });

        // ÁîªÂÉèË™≠„ÅøËæº„Åø„Ç®„É©„Éº„ÅÆÂá¶ÁêÜ
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.addEventListener('error', function() {
                    this.style.display = 'none';
                });
            });
        });
    </script>
</body>
</html>
